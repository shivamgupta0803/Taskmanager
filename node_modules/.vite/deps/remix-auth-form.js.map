{
  "version": 3,
  "sources": ["../../remix-auth-form/build/index.js"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FormStrategy = void 0;\nconst remix_auth_1 = require(\"remix-auth\");\nclass FormStrategy extends remix_auth_1.Strategy {\n    name = \"form\";\n    async authenticate(request, sessionStorage, options) {\n        let form = await this.readFormData(request, options);\n        try {\n            let user = await this.verify({ form, context: options.context, request });\n            return this.success(user, request, sessionStorage, options);\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                return await this.failure(error.message, request, sessionStorage, options, error);\n            }\n            if (typeof error === \"string\") {\n                return await this.failure(error, request, sessionStorage, options, new Error(error));\n            }\n            return await this.failure(\"Unknown error\", request, sessionStorage, options, new Error(JSON.stringify(error, null, 2)));\n        }\n    }\n    async readFormData(request, options) {\n        if (options.context?.formData instanceof FormData) {\n            return options.context.formData;\n        }\n        return await request.formData();\n    }\n}\nexports.FormStrategy = FormStrategy;\n"],
  "mappings": ";;;;;;;;;;AAAA,IAAAA,iBAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,eAAe;AACvB,QAAM,eAAe;AACrB,QAAM,eAAN,cAA2B,aAAa,SAAS;AAAA,MAAjD;AAAA;AACI,oCAAO;AAAA;AAAA,MACP,MAAM,aAAa,SAAS,gBAAgB,SAAS;AACjD,YAAI,OAAO,MAAM,KAAK,aAAa,SAAS,OAAO;AACnD,YAAI;AACA,cAAI,OAAO,MAAM,KAAK,OAAO,EAAE,MAAM,SAAS,QAAQ,SAAS,QAAQ,CAAC;AACxE,iBAAO,KAAK,QAAQ,MAAM,SAAS,gBAAgB,OAAO;AAAA,QAC9D,SACO,OAAO;AACV,cAAI,iBAAiB,OAAO;AACxB,mBAAO,MAAM,KAAK,QAAQ,MAAM,SAAS,SAAS,gBAAgB,SAAS,KAAK;AAAA,UACpF;AACA,cAAI,OAAO,UAAU,UAAU;AAC3B,mBAAO,MAAM,KAAK,QAAQ,OAAO,SAAS,gBAAgB,SAAS,IAAI,MAAM,KAAK,CAAC;AAAA,UACvF;AACA,iBAAO,MAAM,KAAK,QAAQ,iBAAiB,SAAS,gBAAgB,SAAS,IAAI,MAAM,KAAK,UAAU,OAAO,MAAM,CAAC,CAAC,CAAC;AAAA,QAC1H;AAAA,MACJ;AAAA,MACA,MAAM,aAAa,SAAS,SAAS;AAtBzC;AAuBQ,cAAI,aAAQ,YAAR,mBAAiB,qBAAoB,UAAU;AAC/C,iBAAO,QAAQ,QAAQ;AAAA,QAC3B;AACA,eAAO,MAAM,QAAQ,SAAS;AAAA,MAClC;AAAA,IACJ;AACA,YAAQ,eAAe;AAAA;AAAA;",
  "names": ["require_build"]
}
